<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>ReadIt - Asociaci√≥n Cultural</title>
    <link rel="icon" href="images/logo.png">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="styles.css" rel="stylesheet"> <!-- Archivo CSS externo -->

    <script>
        function showSection(sectionId, tabId) {
            document.getElementById('inicio').style.display = 'none';
            document.getElementById('seccionEventos').style.display = 'none';
            document.getElementById(sectionId).style.display = 'block';

            document.getElementById('tab-inicio').classList.remove('active-tab');
            document.getElementById('tab-eventos').classList.remove('active-tab');
            document.getElementById(tabId).classList.add('active-tab');
        }

        function toggleProfileMenu() {
            let menu = document.getElementById('profile-menu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function toggleNotificationMenu() {
            let menu = document.getElementById('notification-menu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function toggleFavorite(icon) {
            icon.classList.toggle('fas');
            icon.classList.toggle('far');
        }

        function toggleOptionsMenu(menuId) {
            const menu = document.getElementById(menuId);
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function goToClubPage() {
            window.location.href = 'club.html';
        }

        function logout() {
            localStorage.removeItem('jwtToken');
            window.location.href = 'signing.html'; // Redirige al login
        }

    </script>
</head>
<body class="bg-light">
<header class="bg-warning p-4 d-flex justify-content-between align-items-center" >
    <div class="d-flex align-items-center">
        <img alt="Logo" class="rounded-circle" height="60" src="images/logo.png" width="60"/>
        <h1 class="text-dark font-weight-bold ml-2">Read-It - Asociaci√≥n cultural</h1>
    </div>
    <div class="d-flex align-items-center">
        <input class="form-control rounded-left" placeholder="Buscar" type="text"/>
        <button class="btn btn-dark rounded-right" >
            <i class="fas fa-search"></i>
        </button>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="notification-container d-flex align-items-center position-relative" onclick="toggleNotificationMenu()">
            <i class="fas fa-bell text-dark mr-3" style="font-size: 1.5rem;"></i>
            <span id="notification-badge" class="badge badge-danger position-absolute" style="top: -5px; right: 5px; display: none;">3</span>
            
            <div id="notification-menu" class="notification-menu">
                <a href="#" class="notification-item unread" onclick="markAsRead(event, this)">Notificaci√≥n 1</a>
                <a href="#" class="notification-item unread" onclick="markAsRead(event, this)">Notificaci√≥n 2</a>
                <a href="#" class="notification-item unread" onclick="markAsRead(event, this)">Notificaci√≥n 3</a>
            </div>
        </div>        
    
        <div class="profile-container d-flex align-items-center" onclick="toggleProfileMenu()">
            <i class="fas fa-user-circle text-dark" style="font-size: 2rem;"></i>
            <i id="profile-arrow" class="fas fa-chevron-down text-dark ml-2 "></i>
            <div id="profile-menu" class="profile-menu">
                <a href="myprofile.html">Mi perfil</a>
                <a href="#" onclick="logout()">Cerrar sesi√≥n</a>
            </div>
        </div>
    </div>
</header>
<div class="d-flex align-items-center bg-primary" style="height: 5px;"></div>
<div class="cover-image">
<div class="bg-cover bg-center" style="background-image: url('images/portada.png'); height: 200px;"></div>
</div>
<nav class="bg-white shadow-sm">
    <ul class="nav justify-content-right p-3">
        <li class="nav-item">
            <a id="tab-inicio" class="nav-link text-warning active-tab" href="javascript:void(0);" onclick="showSection('inicio', 'tab-inicio')">Inicio</a>
        </li>
        <li class="nav-item">
            <a id="tab-eventos" class="nav-link text-dark" href="javascript:void(0);" onclick="showSection('seccionEventos', 'tab-eventos')">Eventos</a>
        </li>
    </ul>
</nav>
<main class="p-4">
    <h2 class="font-weight-bold mb-3">¬°Bienvenida Asociaci√≥n Cultural!</h2>
<section id="inicio">
    <div class="mb-4">
        <h5>Nos alegra contar con tu participaci√≥n. Aqu√≠ podr√°s publicar y gestionar los eventos culturales de tu asociaci√≥n para compartirlos con la comunidad.</h5>
    </div>

    <div class="card bg-light border-0 shadow-lg p-4 mb-5">
        <div class="row">
          <!-- Imagen representativa -->
          <div class="col-md-4 d-flex align-items-center justify-content-center">
            <img src="images/eventosliterarios.png" alt="Publicar Eventos" class="img-fluid rounded" style="max-height: 220px;">
          </div>
      
          <!-- Contenido explicativo -->
          <div class="col-md-8">
            <h4 class="text-warning font-weight-bold mb-3">
              <i class="fas fa-bullhorn mr-2 text-dark"></i> ¬øPor qu√© publicar tus eventos aqu√≠?
            </h4>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-eye text-primary fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Visibilidad</h6>
                  <p class="mb-0 text-muted">Tus eventos aparecen en la p√°gina principal de nuestros usuarios lectores, visibles para toda la comunidad.</p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-users text-success fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Participaci√≥n</h6>
                  <p class="mb-0 text-muted">Fomentas la participaci√≥n activa en tus eventos publicados.</p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-cogs text-danger fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Gesti√≥n eficiente</h6>
                  <p class="mb-0 text-muted">Crea eventos de forma sencilla desde un solo lugar.</p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-palette text-warning fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Identidad cultural</h6>
                  <p class="mb-0 text-muted">Refleja el esp√≠ritu art√≠stico y cultural de tu asociaci√≥n en cada publicaci√≥n.</p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-check-circle text-info fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Confianza</h6>
                  <p class="mb-0 text-muted">Proyecta profesionalismo ante miembros y aliados potenciales.</p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="border rounded p-3 bg-white h-100 shadow-sm">
                  <i class="fas fa-globe text-secondary fa-lg mb-2"></i>
                  <h6 class="font-weight-bold">Alcance</h6>
                  <p class="mb-0 text-muted">Eventos virtuales o presenciales para conectar con todos, en cualquier lugar.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      
</section>

<section id="seccionEventos" style="display: none;">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="font-weight-bold">Pr√≥ximos Eventos</h3>
        <button class="btn btn-success" onclick="showModal('modalCrearEvento')" id="crearEvento" style="display: none;">
            <i class="fas fa-plus"></i> Crear Evento
        </button>
    </div>
    <div id="eventos">

    </div>
             
</section>

</main>
 

<footer class="bg-dark text-white text-center py-3">
    <div class="container">
    <p class="mb-1">
        üìö connectReadit@gmail.com | 
        <a id="acerca-link" style="color: #4FC3F7; text-decoration: none;">Acerca de</a> | 
        ¬© 2025 Read-it
        </p>
    </div>
</footer>

<!-- Modal -->
<div id="modal">
    <div id="modal-content">
    <h2>Sobre el Equipo</h2>
    <img src="images/logo.png" style="height: 90px;">
    <p>Somos Read-it, un equipo apasionado por compartir el amor por la lectura. üìö‚ú®</p>
    <div class="row my-5">
        <div class="col-md-6 mb-4">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body text-center">
                    <img src="images/equipo/andrea.png" class="rounded-circle mb-3" width="100" height="100" alt="Andrea Escobar">
                    <h3 class="font-weight-bold">Andrea Escobar</h3>
                    <p class="font-weight-bold mb-0">ProductOwner</p>
                    <p class="text-muted">Desarrollo Frontend</p>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body text-center">
                    <img src="images/equipo/erik.png" class="rounded-circle mb-3" width="100" height="100" alt="Erik Moreno">
                    <h3 class="font-weight-bold">Erik Moreno</h3>
                    <p class="font-weight-bold mb-0">ScrumMaster</p>
                    <p class="text-muted">Desarrollo Backend.</p>
                </div>
            </div>
        </div>
    </div>
    <button id="cerrar-modal">Cerrar</button>
  </div>
</div>

<script>
    document.getElementById('acerca-link').addEventListener('click', function() {
      document.getElementById('modal').style.display = 'block';
    });
    
    document.getElementById('cerrar-modal').addEventListener('click', function() {
      document.getElementById('modal').style.display = 'none';
    });
    
    // Opcional: cerrar modal al hacer clic fuera del contenido
    window.addEventListener('click', function(event) {
      const modal = document.getElementById('modal');
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
    </script>

<!-- Modal Crear Evento -->
<div class="modal" id="modalCrearEvento" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Crear evento</h5>
                <button type="button" class="close" onclick="hideModal('modalCrearEvento')" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            
            <!-- Agregamos un contenedor con scroll para evitar que el modal sea muy largo -->
            <div class="modal-body" style="max-height: 60vh; overflow-y: auto;">
                <form>
                    
                    <div class="form-group">
                        <label for="nombreEvento">Nombre del evento</label>
                        <input type="text" class="form-control" id="nombreEvento" placeholder="Ingrese el nombre del evento">
                    </div>
                    <!-- Descripci√≥n del evento -->
                    <div class="form-group">
                      <label for="descripcionEvento">Descripci√≥n del evento</label>
                      <textarea class="form-control" id="descripcionEvento" rows="3" placeholder="Agregue una descripci√≥n del evento"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="fechaEvento">Fecha del evento</label>
                        <input type="date" class="form-control" id="fechaEvento">
                    </div>
  
                    <div class="form-group">
                        <label for="horaEvento">Hora del evento</label>
                        <input type="time" class="form-control" id="horaEvento">
                    </div>
  
                    <!-- Tipo de evento -->
                    <div class="form-group">
                        <label>Tipo de evento</label>
                        <div>
                            <input type="radio" id="virtual" name="tipoEvento" value="virtual" checked onclick="toggleLugar()">
                            <label for="virtual">Virtual</label>
                            
                            <input type="radio" id="presencial" name="tipoEvento" value="presencial" onclick="toggleLugar()">
                            <label for="presencial">Presencial</label>
                        </div>
                    </div>
  
                    <!-- Campo din√°mico: Lugar o Link -->
                    <div class="form-group">
                        <label id="labelLugar">Link a videollamada</label>
                        <input type="text" class="form-control" id="lugarEvento" placeholder="Ingrese el enlace a la videollamada">
                    </div>
  
                    <div class="form-group">
                        <label for="portadaEvento">Portada</label>
                        <input type="file" class="form-control-file" id="portadaEvento">
                    </div>
                </form>
            </div>
  
            <!-- Fijar el footer para que siempre se vea -->
            <div class="modal-footer" style="position: sticky; bottom: 0; background: white; z-index: 10;">
                <button type="button" class="btn btn-secondary" onclick="hideModal('modalCrearEvento')">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnCrearEvento">Crear evento</button>
            </div>
        </div>
    </div>
  </div>


<script>
const modal = document.getElementById('modal');
const acercaLink = document.getElementById('acerca-link');
const cerrarModal = document.getElementById('cerrar-modal');

acercaLink.addEventListener('click', function() {
  modal.style.display = 'flex';
});

cerrarModal.addEventListener('click', function() {
  modal.style.display = 'none';
});

// Tambi√©n cerrar si hacen clic fuera del contenido
window.addEventListener('click', function(e) {
  if (e.target === modal) {
    modal.style.display = 'none';
  }
});
</script>

 
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

<script>
let notificationCount = 3; // N√∫mero inicial de notificaciones

    function updateNotificationBadge() {
        let badge = document.getElementById('notification-badge');
        if (notificationCount > 0) {
            badge.textContent = notificationCount;
            badge.style.display = 'inline-block';
        } else {
            badge.style.display = 'none';
        }
    }

    function toggleNotificationMenu() {
        let menu = document.getElementById('notification-menu');
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    function markAsRead(event, element) {
        event.stopPropagation(); // Evita que el clic cierre el men√∫
        if (element.classList.contains('unread')) {
            element.classList.remove('unread');
            element.style.background = 'white'; // Quita el resaltado
            notificationCount--;
            updateNotificationBadge();
        }
    }

    // Llamar a la funci√≥n para asegurarse de que se muestre correctamente al cargar
    updateNotificationBadge();
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        fetch("http://localhost:3050/clubes")
        .then(response => response.json())
        .then(data => {
            let clubesContainer = document.getElementById("clubes-container"); 
            clubesContainer.innerHTML = ""; // Limpiar contenido previo
            console.log(data);
            data.forEach(club => {
                let clubCard = `
                    <div class="col-md-6 mb-4">
                        <div class="card club-banner-container" onclick="goToClubPage('${club._id}')">
                            <div class="card-header bg-warning text-white text-center font-weight-bold">${club.NombreClub}</div>
                            <img class="card-img-top club-banner" src="${club.Portada}" alt="${club.NombreClub}"/>
                            <i class="far fa-heart favorite-icon" onclick="toggleFavorite(event, this)"></i>
                            <div class="club-footer">
                                <span>${club.Genero}</span>
                            </div>
                        </div>
                    </div>
                `;
                clubesContainer.innerHTML += clubCard;
            });
        })
        .catch(error => console.error("Error al obtener los clubes:", error));
        fetchUserClubs();
    });

    function goToClubPage(NombreClub) {
        sessionStorage.setItem('selectedClub', NombreClub);
        window.location.href = 'club.html';
    }

    function toggleFavorite(event, element) {
        event.stopPropagation();
        element.classList.toggle("favorited");
    }
</script>
